<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>微信的JSSDK使用</title>
  <script src="http://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
</head>
<body>
  <button id="getGogalAccessToken">这个access_token是公众号的全局唯一接口调用凭据</button>
  <button id="getJsapiTicket">jsapi_ticket</button>
</body>
<script>
  // wx.config({
  //   debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
  //   appId: 'wx464825d8e60bd635', // 必填，公众号的唯一标识
  //   timestamp: "", // 必填，生成签名的时间戳
  //   nonceStr: '', // 必填，生成签名的随机串
  //   signature: '',// 必填，签名
  //   jsApiList: [] // 必填，需要使用的JS接口列表
  // });

  // access_token是公众号的全局唯一接口调用凭据
  var gogalAccessToken = {}
  var jsapiTicket = {}
  $("#getGogalAccessToken").on("click",function(){
    var url = "http://pay.yeahyeahyeah.cn/api/getGogalAccessToken"
    $.get(url,function(result){
      gogalAccessToken = result
      console.log(result)
    })
  })


  // access_token是公众号的全局唯一接口调用凭据
  $("#getJsapiTicket").on("click",function(){
    var url = "http://pay.yeahyeahyeah.cn/api/getJsapiTicket"
    var data = gogalAccessToken.access_token
    $.post(url,data,function(result){
      jsapiTicket = result
      console.log(result)
    })
  })
  </script>

</html>